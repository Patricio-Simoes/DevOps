---
Date: 2025-10-31
Technology: Terraform
tags:
  - DevOps
  - IaC
---
**Table of contents**
- [00. Best Practices](#00-best-practices)
  - [Naming Conventions](#naming-conventions)
  - [Project Structure:](#project-structure)
  - [Security](#security)
  - [Versioning](#versioning)

# 00. Best Practices

Bellow is a list of best practices related to Terraform code management and workflow.

## Naming Conventions

Resources, Variables, Outputs and any other blocks should use the *snake_case* syntax.

```hcl
resource "aws_instance" "web_server" {}

variable "instance_type" {}

output "instance_public_ip" {}

locals {
  common_tags = {}
}
```

## Project Structure:

1. Common Terraform files  across projects include:
	1. **`main.tf`** - Main configuration;
	2. **`variables.tf`** - Variable declarations;
	3. **`outputs.tf`** - Output declarations;
	4. **`providers.tf`** - [Providers](02.%20Providers.md) requirements;
	5. **`backend.tf`** - Backend configuration.
2. Environment specific variables should be defined in an `environment.tfvars` file;

Example structure:

```plaintext
terraform-project/
├── main.tf
├── variables.tf
├── outputs.tf
├── providers.tf
├── backend.tf
├── modules/
│   ├── networking/
│   ├── compute/
│   └── storage/
└── environments/
    ├── development.tfvars
    └── staging.tfvars
    └── production.tfvars
```

## Security

1. Always encrypt the [state file](01.%20State%20file.md);
2. Avoid storing secrets locally, use a secure providers like AWS Secrets Manager;
3. Make use of `sensitive = true` for sensitive Terraform variables.
4. Always use a `.gitignore` in order to avoid comiting sensitive data to a remote git repository.

## Versioning

Pin modules to a specific version:

```
module "vpc" {
  source  = "terraform-aws-modules/vpc/aws"
  version = "5.1.0"
}
```
