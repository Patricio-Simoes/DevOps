---
Date: 2025-12-06
Technology: Kubernetes
tags:
  - Container_Orchestration
  - DevOps
---
**Table of Contents**

- [04. Deployments](#04-deployments)
  - [Creating a new Deployment](#creating-a-new-deployment)
  - [Rollouts \& Versioning](#rollouts--versioning)
    - [Types of rollouts](#types-of-rollouts)
      - [Recreate](#recreate)
      - [Rolling Update (Default)](#rolling-update-default)
  - [Deployment Commands](#deployment-commands)
    - [Checking Deployment information](#checking-deployment-information)
    - [Editing a Deployment after it is deployed](#editing-a-deployment-after-it-is-deployed)
    - [Deleting a Deployment](#deleting-a-deployment)

# 04. Deployments

A Deployment is a Kubernetes object that provides **declarative updates to applications**.

It **manages the creation and scaling** of a group of replicas of a specific application and ensures that the desired state of the application is maintained.

<div align="center">
    <img src="../Assets/Images/Diagrams/Kubernetes/Deployments.png" alt="Deployments">
</div>

## Creating a new Deployment

Deployments are created from a YAML file using the following structure:

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: myapp-deployment
  labels:
    app: myapp
    type: front-end
spec:
  template:
    metadata:
      name: myapp-pod
      labels:
        app: myapp
        type: front-end
    spec:
      containers:
        - name: nginx-container
          image: nginx
  replicas: 3
  selector:
    matchLabels:
      type: front-end
```

**Note:** A deployment automatically creates a [ReplicaSet](03.%20ReplicaSets.md#03--replicasets).

> Result
> This example will create 3 pods with the `nginx`image, that are controlled by the `myapp-deployment` Deployment.

Then, using `kubectl`, run:

```bash
kubectl apply -f <file-name>
```

## Rollouts & Versioning

When a Deployment is created, a rollout will be triggered. The rollout creates a [ReplicaSet](03.%20ReplicaSets.md#03--replicasets), which is recorded as a new revision.

When the application gets updated, a new rollout will be triggered, creating a new revision.

This behavior helps keep track of changes and rollback when necessary.

To view the status of a rollout, using `kuectl`run:

```bash
kubetctl rollout status deployment/<deployment_name> -n <namespace>
```

To view the list of revisions and history of rollouts, using `kubectl`run:

```bash
kubetctl rollout history deployment/<deployment_name> -n <namespace>
```

To undo a rollout, using `kubectl`, run:

```bash
kubectl rollout undo deployment/<deployment_name> -n <namespace>
```

### Types of rollouts

There are two types of rollouts:

#### Recreate

This rollout strategy will delete all pods of a running application before creating the new updated ones. (This will cause downtime).

<div align="center">
    <img src="../Assets/Images/Diagrams/Kubernetes/Rollout - Recreate.png" alt="Rollout - Recreate">
</div>

#### Rolling Update (Default)

This rollout strategy will upgrade a single pod of a running application and immediately destroy the old one after the new is running, without touching the other ones.

This will be repeated until all new pods have been created.

<div align="center">
    <img src="../Assets/Images/Diagrams/Kubernetes/Rollout - Rolling Update.png" alt="Rollout - Rolling Update">
</div>

This eliminates downtime when performing the rollout and is the default strategy.

## Deployment Commands

### Checking Deployment information

To list available Deployments, using `kubectl` run:

```bash
kubectl get deployments -n <namespace>
# For slightly more detailed information:
kubectl get deployments -n <namespace> -o wide
```

To describe a Deployment, using `kubectl` run:

```bash
kubectl describe deployment/<deployment_name> -n <namespace>
```

To check the logs of a Deployment, using `kubectl` run:

```bash
kubectl logs <deployment_name> -n <namespace>
```

### Editing a Deployment after it is deployed

To edit an existing Deployment, using `kubectl`run:

```bash
kubectl edit deployment/<deployment_name> -n <namespace>
```

###  Deleting a Deployment

To delete a Deployment, using `kubectl`, run:

```bash
kubectl delete deployment/<deployment_name> -n <namespace>
```

**Warning:** This will delete all [ReplicaSets](03.%20ReplicaSets.md#03--replicasets) and [Pods](02.%20Pods.md#02-pods) managed by the Deployment.