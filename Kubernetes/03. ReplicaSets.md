---
Date: 2025-12-06
Technology: Kubernetes
tags:
  - Container_Orchestration
  - DevOps
---
**Table of Contents**

- [03. ReplicaSets](#03-replicasets)
  - [Creating a new ReplicaSet](#creating-a-new-replicaset)
  - [ReplicaSet Commands](#replicaset-commands)
    - [Checking ReplicaSet information](#checking-replicaset-information)
    - [Editing a ReplicaSet after it is deployed](#editing-a-replicaset-after-it-is-deployed)
      - [Scale the number of replicas](#scale-the-number-of-replicas)
    - [Replacing a ReplicaSet](#replacing-a-replicaset)
    - [Deleting a ReplicaSet](#deleting-a-replicaset)

# 03. ReplicaSets

A ReplicaSet's purpose is to **maintain a stable set of replica [Pods](02.%20Pods.md#02--pods) running** at any given time.

**Note:** It is recommended to define a [Deployment](04.%20Deployments.md#04--deployments) and let that Deployment manage ReplicaSets automatically.

## Creating a new ReplicaSet

ReplicaSets are created from a YAML file using the following structure:

```yaml
apiVersion: apps/v1
kind: ReplicaSet
metadata:
  name: myapp-replicaset
  labels:
    app: myapp
    type: front-end
spec:
  template:
    metadata:
      name: myapp-pod
      labels:
        app: myapp
        type: front-end
    spec:
      containers:
        - name: nginx-container
          image: nginx
  replicas: 3
  selector:
    matchLabels:
      type: front-end
```

> Result
> This example will create 3 pods with the `nginx`image, that are controlled by the `myapp-replicaset` ReplicaSet.

Then, using `kubectl`, run:

```bash
kubectl apply -f <file-name>
```
 
**Note:** The `selector` field helps the ReplicaSet identify which pods fall under it. This is required since a **ReplicaSet can manage pods that were not created by it**.

## ReplicaSet Commands

### Checking ReplicaSet information

To list available ReplicaSets, using `kubectl` run:

```bash
kubectl get replicaset -n <namespace>
# This will also work:
kubectl get rs -n <namespace> -o wide
# For slightly more detailed information:
kubectl get rs -n <namespace> -o wide
```

To describe a ReplicaSet, using `kubectl` run:

```bash
kubectl describe rs/<rs_name> -n <namespace>
```

To check the logs of a ReplicaSet, using `kubectl` run:

```bash
kubectl logs <rs_name> -n <namespace>
```

### Editing a ReplicaSet after it is deployed

To edit an existing ReplicaSet, using `kubectl`run:

```bash
kubectl edit rs/<rs_name> -n <namespace>
```

#### Scale the number of replicas

To simply scale the number os replicas that a ReplicaSet manages, using `kubectl`, run:

```bash
kubectl scale --replicas=<desired_replicas> replicaset <rs_name>
```

###  Replacing a ReplicaSet

To replace a ReplicaSet, using `kubectl`, run:

```bash
kubectl replace -f <rs_definition>.yaml
```

###  Deleting a ReplicaSet

To delete a ReplicaSet, using `kubectl`, run:

```bash
kubectl delete rs/<rs_name> -n <namespace>
```

**Warning:** This will delete all pods managed by the ReplicaSet.